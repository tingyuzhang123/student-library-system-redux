{"ast":null,"code":"var _jsxFileName = \"/Users/zhangtingyu/booksystem-redux/student-library-system-redux/src/StudentList.js\";\nimport React from \"react\";\nimport BL from \"./BookLists\";\nimport { connect } from 'react-redux';\n\nclass StudentList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.createStudentOptions = studentName => {\n      return React.createElement(\"option\", {\n        key: studentName,\n        value: studentName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, studentName);\n    };\n\n    this.state = {\n      isShowedBookList: false\n    };\n  }\n\n  render() {\n    let isShowedBookList = this.state.isShowedBookList;\n    const _this$props = this.props,\n          selectedStudent = _this$props.selectedStudent,\n          student = _this$props.student,\n          isSelected = _this$props.isSelected,\n          onBookReturnedRedux = _this$props.onBookReturnedRedux;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, \" Library \"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \" Choose Student \"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      onChange: this.props.showStudentListRedux(studentName),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, !isSelected && React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, \"Please select:\"), Object.keys(student).map(this.createStudentOptions)), isSelected && React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          isShowedBookList: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"Borrow Book\"), isShowedBookList && React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(BL, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \" Borrowed Book: \"), React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, Object.keys(student[selectedStudent]).map(bookName => {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, student[selectedStudent][bookName] && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, selectedStudent + ' borrowed: ' + bookName, React.createElement(\"button\", {\n        onClick: () => {\n          onBookReturnedRedux(bookName);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"return\")));\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    selectedStudent: state.selectedStudent,\n    student: state.student,\n    bookNumbers: state.bookNumbers,\n    isSelected: state.isSelected\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    showStudentListRedux: studentName => {\n      dispatch(showStudentList(studentName));\n    },\n    onBookReturnedRedux: bookName => {\n      dispatch(createBookReturnAction(bookName));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StudentList);","map":{"version":3,"sources":["/Users/zhangtingyu/booksystem-redux/student-library-system-redux/src/StudentList.js"],"names":["React","BL","connect","StudentList","Component","constructor","props","createStudentOptions","studentName","state","isShowedBookList","render","selectedStudent","student","isSelected","onBookReturnedRedux","showStudentListRedux","Object","keys","map","setState","bookName","mapStateToProps","bookNumbers","mapDispatchToProps","dispatch","showStudentList","createBookReturnAction"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport BL from \"./BookLists\";\nimport { connect } from 'react-redux';\n\nclass StudentList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isShowedBookList: false\n    };\n  }\n  createStudentOptions = (studentName)=> { \n      return <option key={studentName} value={studentName}>{studentName}</option>;\n    };\n \n\n\n  render() {\n    let { isShowedBookList} = this.state;\n    const {selectedStudent,student,isSelected,onBookReturnedRedux}=this.props;\n\n    return (\n      <div>\n        <h2> Library </h2>\n        <label> Choose Student </label>\n        <br />\n        <select onChange={this.props.showStudentListRedux(studentName)}>\n          {!isSelected&&<option>Please select:</option>}\n          { Object.keys(student).map(this.createStudentOptions)}\n        </select>\n        {isSelected && (\n          <React.Fragment>\n            <button\n              onClick={() => {\n                this.setState({\n                  isShowedBookList: true\n                });\n              }}\n            >\n              Borrow Book\n            </button>\n            {isShowedBookList && (\n              <React.Fragment>\n               <BL></BL>\n              </React.Fragment>\n            )}\n            <p> Borrowed Book: </p>\n            {/* {Object.keys(student).map(studentName => { */}\n              {/* const books = student[selectedStudent]; */}\n                {/* return ( */}\n                  <React.Fragment>\n                    <span>\n                      {Object.keys(student[selectedStudent]).map((bookName) => {\n                      return <React.Fragment>\n                        {(student[selectedStudent][bookName])&& <p>{selectedStudent + ' borrowed: ' + bookName}\n                         <button\n                      onClick={() => {\n                        onBookReturnedRedux(bookName);\n                          }\n                        }\n                    >\n                      return\n                    </button>\n                    </p>}\n                  </React.Fragment>\n                      })}\n                      </span>\n                      </React.Fragment>\n     </React.Fragment>\n    )}\n    </div>\n    )}\n            }\nconst mapStateToProps=(state)=>{\nreturn{\n  selectedStudent:state.selectedStudent,\n  student: state.student,\n  bookNumbers:state.bookNumbers,\n  isSelected:state.isSelected\n              }\n          }\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    showStudentListRedux: (studentName) => { dispatch(showStudentList(studentName)) },\n    onBookReturnedRedux: (bookName)=>{dispatch(createBookReturnAction(bookName))}\n              };\n          };\nexport default connect(mapStateToProps, mapDispatchToProps)(StudentList);\n              \n"]},"metadata":{},"sourceType":"module"}